(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{183:function(e,t,c){},184:function(e,t,c){},185:function(e,t,c){},186:function(e,t,c){},187:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(61),o=c.n(r),i=(c(71),c(8)),s=c(4),l=c(2),d=c(7),j=(c(72),c(73),c(1)),u=function(e){return e.showModal&&Object(j.jsx)("div",{className:"dark"})},b=(c(75),c(27)),O=c(29),f=(c(81),Object(n.createContext)()),x=(c(82),function(e){return Object(j.jsx)("button",{className:"Btn",disabled:e.disabled,onClick:e.click,children:e.text})}),m=(c(15),c(83),function(e,t){return Object(j.jsx)("div",{className:"modalInput",children:Object(j.jsx)("input",Object(s.a)({ref:t},e))})}),h=a.a.forwardRef(m),v=c(66),p=c(65),C=function(){p.a().shape({});var e=Object(v.a)(),t=e.register,c=e.handleSubmit,a=(e.errors,Object(n.useContext)(f)),r=a.addNewCardHandler,o=a.state,i=a.onChangeHandler;return Object(j.jsxs)("form",{onSubmit:c((function(e){return r(e)})),children:[Object(j.jsx)("div",{className:"modalForm",children:Object.keys(o.formControls).map((function(e,c){var n=o.formControls[e];return Object(j.jsx)(h,{name:e,type:n.type,value:n.value,placeholder:n.placeholder,valid:n.valid,touched:n.touched,ref:t,onChange:function(t){return i(t,e)}},e+c)}))}),Object(j.jsx)("div",{className:"modalBtn",children:Object(j.jsx)(x,{type:"submit",text:"A\xf1adir"})})]})},N=function(){var e=Object(n.useContext)(f),t=e.state,c=e.modalHideHandler;return t.showModal&&Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsxs)("div",{className:"modalHead",children:[Object(j.jsx)("span",{style:{fontWeight:"bold"},children:"Nueva tarjeta"}),Object(j.jsx)("div",{className:"closeButton",children:Object(j.jsx)(b.a,{icon:O.b,onClick:c})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(C,{})]})},g=(c(183),c(184),c.p+"static/media/recetas-de-merluza.6097ad4c.jpeg"),w=(c(185),function(e){var t=Object(n.useContext)(f),c=t.editHandler,a=t.deleteHandler;return Object(j.jsxs)("div",{className:"Edit",children:[Object(j.jsx)(x,{text:"Edit",click:function(){return c(e)}})," |",Object(j.jsx)(x,{text:"Delete",click:function(){return a(e.index)}})]})}),H=function(e){return Object(j.jsxs)("div",{className:"Card",children:[Object(j.jsx)("img",{src:e.url||g,alt:""}),Object(j.jsx)("div",{className:"cardTitleWrap",children:Object(j.jsx)("h1",{className:"cardTitle",children:e.title})}),Object(j.jsx)("div",{className:"cardDescription",children:e.description}),Object(j.jsx)(w,Object(s.a)({},e))]})},S=(c(186),function(){var e=Object(n.useContext)(f).cards;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"Title",children:"Tarjetas creadas"}),Object(j.jsx)("div",{className:"grid",children:e.map((function(e,t){var c=e.title,n=e.description,a=e.url;return Object(j.jsx)(H,{title:c,index:t,description:n,url:a},t)}))})]})}),k=function(){var e=Object(n.useContext)(f).modalShowHandler;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"faPlusSquare",children:Object(j.jsx)(b.a,{"data-testid":"create-button",icon:O.a,onClick:e})}),Object(j.jsx)(S,{})]})},y=JSON.parse(localStorage.getItem("cards")),M={formControls:{title:{type:"text",value:"",placeholder:"T\xedtulo"},description:{type:"text",value:"",placeholder:"Descripci\xf3n"},url:{type:"text",value:"",placeholder:"Im\xe1gen (URL)"}},showModal:!1,isFormValid:!1},I=function(){var e=Object(n.useState)(y||[]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(M),o=Object(d.a)(r,2),b=o[0],O=o[1];return Object(n.useEffect)((function(){localStorage.setItem("cards",JSON.stringify(c))}),[c]),Object(j.jsxs)(f.Provider,{value:{state:b,cards:c,addNewCardHandler:function(e){if(isNaN(b.editingCardIndex))n=e,a([].concat(Object(l.a)(c),[n])),console.log("new card");else{var t=c.map((function(t,c){return c===b.editingCardIndex?(console.log("hola"),e):(console.log(t),t)}));a(t)}var n;O(M)},modalShowHandler:function(){O(Object(s.a)(Object(s.a)({},M),{},{showModal:!0}))},modalHideHandler:function(){return O(M)},editHandler:function(e){var t=e.title,c=e.description,n=e.url,a=e.index;O(Object(s.a)(Object(s.a)({},b),{},{showModal:!0,editingCardIndex:a,formControls:{title:Object(s.a)(Object(s.a)({},b.formControls.title),{},{value:t}),description:Object(s.a)(Object(s.a)({},b.formControls.description),{},{value:c}),url:Object(s.a)(Object(s.a)({},b.formControls.url),{},{value:n})}})),console.log(b.showModal)},deleteHandler:function(e){var t=c.filter((function(t,c){return c!==e}));a(t)},onChangeHandler:function(e,t){var c={value:e.target.value};O(Object(s.a)(Object(s.a)({},b),{},{formControls:Object(s.a)(Object(s.a)({},b.formControls),{},Object(i.a)({},t,Object(s.a)(Object(s.a)({},b.formControls[t]),c))),isFormValid:""!==c.value}))}},children:[Object(j.jsx)(u,{showModal:b.showModal}),Object(j.jsx)(N,{}),Object(j.jsx)(k,{})]})};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},75:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){}},[[187,1,2]]]);
//# sourceMappingURL=main.a3ba8c8c.chunk.js.map