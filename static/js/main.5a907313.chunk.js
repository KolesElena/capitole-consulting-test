(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(64),i=c.n(r),l=(c(74),c(6)),s=c(4),d=c(2),o=c(8),j=(c(75),c(76),c(1)),u=function(e){return e.showModal&&Object(j.jsx)("div",{className:"dark"})},b=(c(78),c(28)),O=c(31),f=(c(84),Object(a.createContext)()),m=(c(85),function(e){return Object(j.jsx)("button",{className:"Btn "+e.className,disabled:e.disabled,onClick:e.click,children:e.text})}),x=(c(86),function(e,t){return Object(j.jsx)("div",{className:"modalInput",children:Object(j.jsx)("input",Object(s.a)({ref:t},e))})}),h=n.a.forwardRef(x),v=c(29),p=c(68),C=c(32),N=function(){var e=C.a().shape({title:C.b().required(),description:C.b().required()}),t=Object(v.b)({resolver:Object(p.yupResolver)(e)}),c=t.register,n=t.handleSubmit,r=t.errors,i=Object(a.useContext)(f),l=i.addNewCardHandler,s=i.state,d=i.onChangeHandler;return Object(j.jsxs)("form",{onSubmit:n((function(e){return l(e)})),children:[Object(j.jsx)("div",{className:"modalForm",children:Object.keys(s.formControls).map((function(e,t){var n=s.formControls[e];return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(h,{name:e,type:n.type,value:n.value,placeholder:n.placeholder,valid:n.valid,touched:n.touched,ref:c({required:!0}),onChange:function(t){return d(t,e)}}),Object(j.jsx)("p",{className:"error",children:r[e]?"".concat(n.placeholder," es un campo obligatorio"):null})]},t)}))}),Object(j.jsx)("div",{className:"modalBtn",children:Object(j.jsx)(m,{type:"submit",text:"A\xf1adir"})})]})},H=function(){var e=Object(a.useContext)(f),t=e.state,c=e.modalHideHandler;return t.showModal&&Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsxs)("div",{className:"modalHead",children:[Object(j.jsx)("span",{style:{fontWeight:"bold"},children:"Nueva tarjeta"}),Object(j.jsx)("div",{className:"closeButton",children:Object(j.jsx)(b.a,{icon:O.b,onClick:c})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(N,{})]})},g=(c(187),c(188),c.p+"static/media/recetas-de-merluza.6097ad4c.jpeg"),w=c(69),S=(c(189),function(e){var t=e.editHandler,c=e.deleteHandler,a=Object(w.a)(e,["editHandler","deleteHandler"]);return Object(j.jsxs)("div",{className:"Edit",children:[Object(j.jsx)(m,{text:"Edit",className:a.buttonClassName,click:function(){return t(a)}})," |",Object(j.jsx)(m,{text:"Delete",click:function(){return c(a.index)}})]})}),y=function(e){return Object(j.jsxs)("div",{className:"Card",children:[Object(j.jsx)("img",{src:e.url||g,alt:""}),Object(j.jsx)("div",{className:"cardTitleWrap",children:Object(j.jsx)("h1",{className:"cardTitle",children:e.title})}),Object(j.jsx)("div",{className:"cardDescription",children:e.description}),Object(j.jsx)(S,Object(s.a)({},e))]})},k=(c(190),function(){var e=Object(a.useContext)(f),t=e.cards,c=e.editHandler,n=e.deleteHandler;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"Title",children:"Tarjetas creadas"}),Object(j.jsx)("div",{className:"grid",children:t.map((function(e,t){var a=e.title,r=e.description,i=e.url;return Object(j.jsx)(y,{title:a,index:t,description:r,url:i,editHandler:c,deleteHandler:n},t)}))})]})}),I=function(){var e=Object(a.useContext)(f).modalShowHandler;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"faPlusSquare",children:Object(j.jsx)(b.a,{"data-testid":"create-button",icon:O.a,onClick:e})}),Object(j.jsx)(k,{})]})},M=JSON.parse(localStorage.getItem("cards")),T={formControls:{title:{type:"text",value:"",placeholder:"T\xedtulo"},description:{type:"text",value:"",placeholder:"Descripci\xf3n"},url:{type:"text",value:"",placeholder:"Im\xe1gen (URL)"}},showModal:!1,isFormValid:!1},q=function(){var e=Object(a.useState)(M||[]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(T),i=Object(o.a)(r,2),b=i[0],O=i[1];return Object(a.useEffect)((function(){localStorage.setItem("cards",JSON.stringify(c))}),[c]),Object(j.jsxs)(f.Provider,{value:{state:b,cards:c,addNewCardHandler:function(e){if(isNaN(b.editingCardIndex))a=e,n([].concat(Object(d.a)(c),[a]));else{var t=c.map((function(t,c){return c===b.editingCardIndex?e:t}));n(t)}var a;O(T)},modalShowHandler:function(){O(Object(s.a)(Object(s.a)({},T),{},{showModal:!0}))},modalHideHandler:function(){return O(T)},editHandler:function(e){var t=e.title,c=e.description,a=e.url,n=e.index;O(Object(s.a)(Object(s.a)({},b),{},{showModal:!0,editingCardIndex:n,formControls:{title:Object(s.a)(Object(s.a)({},b.formControls.title),{},{value:t}),description:Object(s.a)(Object(s.a)({},b.formControls.description),{},{value:c}),url:Object(s.a)(Object(s.a)({},b.formControls.url),{},{value:a})}}))},deleteHandler:function(e){var t=c.filter((function(t,c){return c!==e}));n(t)},onChangeHandler:function(e,t){var c={value:e.target.value};O(Object(s.a)(Object(s.a)({},b),{},{formControls:Object(s.a)(Object(s.a)({},b.formControls),{},Object(l.a)({},t,Object(s.a)(Object(s.a)({},b.formControls[t]),c))),isFormValid:""!==c.value}))}},children:[Object(j.jsx)(u,{showModal:b.showModal}),Object(j.jsx)(H,{}),Object(j.jsx)(I,{})]})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root"))},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},78:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){}},[[191,1,2]]]);
//# sourceMappingURL=main.5a907313.chunk.js.map