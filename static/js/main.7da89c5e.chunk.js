(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{186:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(64),i=c.n(r),s=(c(73),c(6)),o=c(4),l=c(2),d=c(8),j=(c(74),c(75),c(1)),u=function(e){return e.showModal&&Object(j.jsx)("div",{className:"dark"})},b=(c(77),c(28)),O=c(31),f=(c(83),Object(n.createContext)()),x=(c(84),function(e){return Object(j.jsx)("button",{className:"Btn",disabled:e.disabled,onClick:e.click,children:e.text})}),m=(c(16),c(85),function(e,t){return Object(j.jsx)("div",{className:"modalInput",children:Object(j.jsx)("input",Object(o.a)({ref:t},e))})}),h=a.a.forwardRef(m),v=c(29),p=c(68),C=c(32),N=function(){var e=C.a().shape({title:C.b().required(),description:C.b().required()}),t=Object(v.b)({resolver:Object(p.yupResolver)(e)}),c=t.register,a=t.handleSubmit,r=(t.errors,Object(n.useContext)(f)),i=r.addNewCardHandler,s=r.state,o=r.onChangeHandler;return Object(j.jsxs)("form",{onSubmit:a((function(e){return i(e)})),children:[Object(j.jsx)("div",{className:"modalForm",children:Object.keys(s.formControls).map((function(e,t){var n=s.formControls[e];return Object(j.jsx)(h,{name:e,type:n.type,value:n.value,placeholder:n.placeholder,valid:n.valid,touched:n.touched,ref:c({required:!0}),onChange:function(t){return o(t,e)}},e+t)}))}),Object(j.jsx)("div",{className:"modalBtn",children:Object(j.jsx)(x,{type:"submit",text:"A\xf1adir"})})]})},g=function(){var e=Object(n.useContext)(f),t=e.state,c=e.modalHideHandler;return t.showModal&&Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsxs)("div",{className:"modalHead",children:[Object(j.jsx)("span",{style:{fontWeight:"bold"},children:"Nueva tarjeta"}),Object(j.jsx)("div",{className:"closeButton",children:Object(j.jsx)(b.a,{icon:O.b,onClick:c})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(N,{})]})},H=(c(186),c(187),c.p+"static/media/recetas-de-merluza.6097ad4c.jpeg"),w=(c(188),function(e){var t=Object(n.useContext)(f),c=t.editHandler,a=t.deleteHandler;return Object(j.jsxs)("div",{className:"Edit",children:[Object(j.jsx)(x,{text:"Edit",click:function(){return c(e)}})," |",Object(j.jsx)(x,{text:"Delete",click:function(){return a(e.index)}})]})}),S=function(e){return Object(j.jsxs)("div",{className:"Card",children:[Object(j.jsx)("img",{src:e.url||H,alt:""}),Object(j.jsx)("div",{className:"cardTitleWrap",children:Object(j.jsx)("h1",{className:"cardTitle",children:e.title})}),Object(j.jsx)("div",{className:"cardDescription",children:e.description}),Object(j.jsx)(w,Object(o.a)({},e))]})},y=(c(189),function(){var e=Object(n.useContext)(f).cards;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"Title",children:"Tarjetas creadas"}),Object(j.jsx)("div",{className:"grid",children:e.map((function(e,t){var c=e.title,n=e.description,a=e.url;return Object(j.jsx)(S,{title:c,index:t,description:n,url:a},t)}))})]})}),k=function(){var e=Object(n.useContext)(f).modalShowHandler;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"faPlusSquare",children:Object(j.jsx)(b.a,{"data-testid":"create-button",icon:O.a,onClick:e})}),Object(j.jsx)(y,{})]})},I=JSON.parse(localStorage.getItem("cards")),M={formControls:{title:{type:"text",value:"",placeholder:"T\xedtulo"},description:{type:"text",value:"",placeholder:"Descripci\xf3n"},url:{type:"text",value:"",placeholder:"Im\xe1gen (URL)"}},showModal:!1,isFormValid:!1},T=function(){var e=Object(n.useState)(I||[]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(M),i=Object(d.a)(r,2),b=i[0],O=i[1];return Object(n.useEffect)((function(){localStorage.setItem("cards",JSON.stringify(c))}),[c]),Object(j.jsxs)(f.Provider,{value:{state:b,cards:c,addNewCardHandler:function(e){if(isNaN(b.editingCardIndex))n=e,a([].concat(Object(l.a)(c),[n]));else{var t=c.map((function(t,c){return c===b.editingCardIndex?e:t}));a(t)}var n;O(M)},modalShowHandler:function(){O(Object(o.a)(Object(o.a)({},M),{},{showModal:!0}))},modalHideHandler:function(){return O(M)},editHandler:function(e){var t=e.title,c=e.description,n=e.url,a=e.index;O(Object(o.a)(Object(o.a)({},b),{},{showModal:!0,editingCardIndex:a,formControls:{title:Object(o.a)(Object(o.a)({},b.formControls.title),{},{value:t}),description:Object(o.a)(Object(o.a)({},b.formControls.description),{},{value:c}),url:Object(o.a)(Object(o.a)({},b.formControls.url),{},{value:n})}}))},deleteHandler:function(e){var t=c.filter((function(t,c){return c!==e}));a(t)},onChangeHandler:function(e,t){var c={value:e.target.value};O(Object(o.a)(Object(o.a)({},b),{},{formControls:Object(o.a)(Object(o.a)({},b.formControls),{},Object(s.a)({},t,Object(o.a)(Object(o.a)({},b.formControls[t]),c))),isFormValid:""!==c.value}))}},children:[Object(j.jsx)(u,{showModal:b.showModal}),Object(j.jsx)(g,{}),Object(j.jsx)(k,{})]})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){}},[[190,1,2]]]);
//# sourceMappingURL=main.7da89c5e.chunk.js.map